# Environment Configuration
# Copy this file to .env and update with your values

# Application Environment
# Set to "production" to enable secure cookies (requires HTTPS)
ENVIRONMENT=development

# Admin User Credentials (REQUIRED!)
# These are used to create the admin user at startup
# The application will not start without these credentials
# Password must be at least 8 characters long
ADMIN_USERNAME=your-admin-username
ADMIN_PASSWORD=your-secure-password-min-8-chars

# JWT Secrets (CHANGE THESE IN PRODUCTION!)
# Generate strong random secrets (minimum 32 characters)
# Example: openssl rand -base64 32
JWT_ACCESS_SECRET=change-this-to-a-strong-random-secret-min-32-chars
JWT_REFRESH_SECRET=change-this-to-a-different-strong-random-secret-min-32-chars

# Token Duration
# Access token: short-lived (recommended: 5-15 minutes)
# Refresh token: long-lived (recommended: 7-30 days)
ACCESS_TOKEN_DURATION=5m
REFRESH_TOKEN_DURATION=168h

# Projects Configuration
# Root directory where docker-compose projects are stored
# Each subdirectory should contain a docker-compose.yml file
# Example: /projects/app-blog/docker-compose.yml
PROJECTS_ROOT_PATH=/projects

# Platform Domain (REQUIRED for Traefik and Registry HTTPS access)
# This is your base domain - platform services will use subdomains:
#   - api.yourdomain.com     → Hubble API
#   - registry.yourdomain.com → Docker Registry
#   - traefik.yourdomain.com  → Traefik Dashboard (if enabled)
HUBBLE_DOMAIN=

# Traefik Configuration (Reverse Proxy & Load Balancer)
# Enable Traefik for automatic HTTPS and routing
HUBBLE_TRAEFIK_ENABLED=false

# Email for Let's Encrypt certificate registration (required for HTTPS)
# Leave empty to disable automatic HTTPS certificate generation
HUBBLE_TRAEFIK_EMAIL=

# Enable Traefik dashboard (accessible at http://localhost:8080)
# Note: Dashboard is only accessible from localhost for security
HUBBLE_TRAEFIK_DASHBOARD=false

# Dashboard authentication (htpasswd format, optional but recommended)
# Generate with: htpasswd -nb admin your-password
# Example: admin:$apr1$xyz123$abc...
HUBBLE_TRAEFIK_DASHBOARD_AUTH=

# Docker Registry Configuration (Core Platform Feature)
# The Hubble Registry is auto-provisioned for storing your Docker images
# Storage is managed automatically by Docker volumes (hubble-registry-data)
# Default: enabled (set to false to disable)
HUBBLE_REGISTRY_ENABLED=true

# Allow image deletion via Docker Registry API
# Default: true (you can delete images you pushed)
HUBBLE_REGISTRY_DELETE_ENABLED=true

# External Registry Configuration (Optional - for browsing external registries)
# URL to an external Docker registry (e.g., http://localhost:5001)
REGISTRY_URL=

# External Registry Authentication (optional)
REGISTRY_USERNAME=
REGISTRY_PASSWORD=

# Platform Fallback (Advanced)
# DEPRECATED: Disable programmatic infrastructure creation (use docker-compose instead)
# Set to "true" to require Traefik/Registry to be started via docker-compose.yml
# HUBBLE_DISABLE_PLATFORM_FALLBACK=false
